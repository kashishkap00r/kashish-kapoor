{% import "macros/macros.html" as post_macros %}

<!DOCTYPE html>
<html lang="en">

{% include "partials/header.html" %}

{% set body_class = "page-generic" %}
{% if page is defined and page.slug is defined %}
    {% set body_class = "page-" ~ page.slug %}
{% elif section is defined and section.path is defined %}
    {% set section_slug = section.path | trim_start_matches(pat='/') | trim_end_matches(pat='/') | replace(from='/', to='-') %}
    {% if section_slug == "" %}
        {% set body_class = "section-home" %}
    {% else %}
        {% set body_class = "section-" ~ section_slug %}
    {% endif %}
{% endif %}
<body class="{{ body_class }}">
    <div class="content">
        {% include "partials/nav.html" %}

        {# Post page is the default #}
        {% block main_content %}
            Nothing here?!
        {% endblock main_content %}

        <footer class="site-footer" role="contentinfo">
            <span class="site-footer-copy">© <span id="site-footer-year">2026</span> Kashish</span>
            <span class="site-footer-sep">·</span>
            <span id="site-footer-witty" class="site-footer-witty">Thanks for scrolling all the way down like a responsible internet citizen.</span>
        </footer>

        {% if page.extra.comment is defined  %}
            {% set show_comment = page.extra.comment %}
        {% else %}
            {% set show_comment = false %}
        {% endif %}

        {% if show_comment %}
        <div class="giscus"></div>
        {% include "_giscus_script.html" %}
        {% endif %}
    </div>
    <script>
        (function () {
            var yearEl = document.getElementById("site-footer-year");
            if (yearEl) {
                yearEl.textContent = new Date().getFullYear();
            }

            var wittyEl = document.getElementById("site-footer-witty");
            if (!wittyEl) {
                return;
            }

            var lines = [
                "If you made it this far, you probably optimize your coffee too.",
                "Thanks for scrolling all the way down like a responsible internet citizen.",
                "Congratulations. You found the least useful but most honest part of the page."
            ];
            var line = lines[Math.floor(Math.random() * lines.length)];
            wittyEl.textContent = line;
        })();
    </script>
</body>

</html>
